#!/usr/bin/env bash
# bin/compile <build-dir> <cache-dir>

# fail fast
set -e

# parse args
export BUILD_DIR=$1
export CACHE_DIR=$2
export ENV_DIR=$3

function install {
  url=$1
  file_name=$2
  install_message=$3

  echo $install_message
  wget $url
  tar -xvf $file_name
  cd $file_name
  ./configure && ./make && ./make install
}

install 'https://github.com/westes/flex/releases/download/v2.6.4/flex-2.6.4.tar.gz'
        'flex-2.6.2.target.gz' \
        'Installing flex... hold onto your butts'

install 'https://github.com/westes/flex/releases/download/v2.6.4/flex-2.6.4.tar.gz' \
        'gstreamer-1.14.1.tar.xz' \
        'Installing gstreamer... hold onto your butts'
